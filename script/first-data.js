data = [
    {
        "ja": "フシギダネ",
        "en": "Bulbasaur"
    },
    {
        "ja": "フシギソウ",
        "en": "Ivysaur"
    },
    {
        "ja": "フシギバナ",
        "en": "Venusaur"
    },
    {
        "ja": "ヒトカゲ",
        "en": "Charmander"
    },
    {
        "ja": "リザード",
        "en": "Charmeleon"
    },
    {
        "ja": "リザードン",
        "en": "Charizard"
    },
    {
        "ja": "ゼニガメ",
        "en": "Squirtle"
    },
    {
        "ja": "カメール",
        "en": "Wartortle"
    },
    {
        "ja": "カメックス",
        "en": "Blastoise"
    },
    {
        "ja": "キャタピー",
        "en": "Caterpie"
    },
    {
        "ja": "トランセル",
        "en": "Metapod"
    },
    {
        "ja": "バタフリー",
        "en": "Butterfree"
    },
    {
        "ja": "ビードル",
        "en": "Weedle"
    },
    {
        "ja": "コクーン",
        "en": "Kakuna"
    },
    {
        "ja": "スピアー",
        "en": "Beedrill"
    },
    {
        "ja": "ポッポ",
        "en": "Pidgey"
    },
    {
        "ja": "ピジョン",
        "en": "Pidgeotto"
    },
    {
        "ja": "ピジョット",
        "en": "Pidgeot"
    },
    {
        "ja": "コラッタ",
        "en": "Rattata"
    },
    {
        "ja": "ラッタ",
        "en": "Raticate"
    },
    {
        "ja": "オニスズメ",
        "en": "Spearow"
    },
    {
        "ja": "オニドリル",
        "en": "Fearow"
    },
    {
        "ja": "アーボ",
        "en": "Ekans"
    },
    {
        "ja": "アーボック",
        "en": "Arbok"
    },
    {
        "ja": "ピカチュウ",
        "en": "Pikachu"
    },
    {
        "ja": "ライチュウ",
        "en": "Raichu"
    },
    {
        "ja": "サンド",
        "en": "Sandshrew"
    },
    {
        "ja": "サンドパン",
        "en": "Sandslash"
    },
    {
        "ja": "ニドラン♀",
        "en": "Nidoran♀"
    },
    {
        "ja": "ニドリーナ",
        "en": "Nidorina"
    },
    {
        "ja": "ニドクイン",
        "en": "Nidoqueen"
    },
    {
        "ja": "ニドラン♂",
        "en": "Nidoran♂"
    },
    {
        "ja": "ニドリーノ",
        "en": "Nidorino"
    },
    {
        "ja": "ニドキング",
        "en": "Nidoking"
    },
    {
        "ja": "ピッピ",
        "en": "Clefairy"
    },
    {
        "ja": "ピクシー",
        "en": "Clefable"
    },
    {
        "ja": "ロコン",
        "en": "Vulpix"
    },
    {
        "ja": "キュウコン",
        "en": "Ninetales"
    },
    {
        "ja": "プリン",
        "en": "Jigglypuff"
    },
    {
        "ja": "プクリン",
        "en": "Wigglytuff"
    },
    {
        "ja": "ズバット",
        "en": "Zubat"
    },
    {
        "ja": "ゴルバット",
        "en": "Golbat"
    },
    {
        "ja": "ナゾノクサ",
        "en": "Oddish"
    },
    {
        "ja": "クサイハナ",
        "en": "Gloom"
    },
    {
        "ja": "ラフレシア",
        "en": "Vileplume"
    },
    {
        "ja": "パラス",
        "en": "Paras"
    },
    {
        "ja": "パラセクト",
        "en": "Parasect"
    },
    {
        "ja": "コンパン",
        "en": "Venonat"
    },
    {
        "ja": "モルフォン",
        "en": "Venomoth"
    },
    {
        "ja": "ディグダ",
        "en": "Diglett"
    },
    {
        "ja": "ダグトリオ",
        "en": "Dugtrio"
    },
    {
        "ja": "ニャース",
        "en": "Meowth"
    },
    {
        "ja": "ペルシアン",
        "en": "Persian"
    },
    {
        "ja": "コダック",
        "en": "Psyduck"
    },
    {
        "ja": "ゴルダック",
        "en": "Golduck"
    },
    {
        "ja": "マンキー",
        "en": "Mankey"
    },
    {
        "ja": "オコリザル",
        "en": "Primeape"
    },
    {
        "ja": "ガーディ",
        "en": "Growlithe"
    },
    {
        "ja": "ウインディ",
        "en": "Arcanine"
    },
    {
        "ja": "ニョロモ",
        "en": "Poliwag"
    },
    {
        "ja": "ニョロゾ",
        "en": "Poliwhirl"
    },
    {
        "ja": "ニョロボン",
        "en": "Poliwrath"
    },
    {
        "ja": "ケーシィ",
        "en": "Abra"
    },
    {
        "ja": "ユンゲラー",
        "en": "Kadabra"
    },
    {
        "ja": "フーディン",
        "en": "Alakazam"
    },
    {
        "ja": "ワンリキー",
        "en": "Machop"
    },
    {
        "ja": "ゴーリキー",
        "en": "Machoke"
    },
    {
        "ja": "カイリキー",
        "en": "Machamp"
    },
    {
        "ja": "マダツボミ",
        "en": "Bellsprout"
    },
    {
        "ja": "ウツドン",
        "en": "Weepinbell"
    },
    {
        "ja": "ウツボット",
        "en": "Victreebel"
    },
    {
        "ja": "メノクラゲ",
        "en": "Tentacool"
    },
    {
        "ja": "ドククラゲ",
        "en": "Tentacruel"
    },
    {
        "ja": "イシツブテ",
        "en": "Geodude"
    },
    {
        "ja": "ゴローン",
        "en": "Graveler"
    },
    {
        "ja": "ゴローニャ",
        "en": "Golem"
    },
    {
        "ja": "ポニータ",
        "en": "Ponyta"
    },
    {
        "ja": "ギャロップ",
        "en": "Rapidash"
    },
    {
        "ja": "ヤドン",
        "en": "Slowpoke"
    },
    {
        "ja": "ヤドラン",
        "en": "Slowbro"
    },
    {
        "ja": "コイル",
        "en": "Magnemite"
    },
    {
        "ja": "レアコイル",
        "en": "Magneton"
    },
    {
        "ja": "カモネギ",
        "en": "Farfetch'd"
    },
    {
        "ja": "ドードー",
        "en": "Doduo"
    },
    {
        "ja": "ドードリオ",
        "en": "Dodrio"
    },
    {
        "ja": "パウワウ",
        "en": "Seel"
    },
    {
        "ja": "ジュゴン",
        "en": "Dewgong"
    },
    {
        "ja": "ベトベター",
        "en": "Grimer"
    },
    {
        "ja": "ベトベトン",
        "en": "Muk"
    },
    {
        "ja": "シェルダー",
        "en": "Shellder"
    },
    {
        "ja": "パルシェン",
        "en": "Cloyster"
    },
    {
        "ja": "ゴース",
        "en": "Gastly"
    },
    {
        "ja": "ゴースト",
        "en": "Haunter"
    },
    {
        "ja": "ゲンガー",
        "en": "Gengar"
    },
    {
        "ja": "イワーク",
        "en": "Onix"
    },
    {
        "ja": "スリープ",
        "en": "Drowzee"
    },
    {
        "ja": "スリーパー",
        "en": "Hypno"
    },
    {
        "ja": "クラブ",
        "en": "Krabby"
    },
    {
        "ja": "キングラー",
        "en": "Kingler"
    },
    {
        "ja": "ビリリダマ",
        "en": "Voltorb"
    },
    {
        "ja": "マルマイン",
        "en": "Electrode"
    },
    {
        "ja": "タマタマ",
        "en": "Exeggcute"
    },
    {
        "ja": "ナッシー",
        "en": "Exeggutor"
    },
    {
        "ja": "カラカラ",
        "en": "Cubone"
    },
    {
        "ja": "ガラガラ",
        "en": "Marowak"
    },
    {
        "ja": "サワムラー",
        "en": "Hitmonlee"
    },
    {
        "ja": "エビワラー",
        "en": "Hitmonchan"
    },
    {
        "ja": "ベロリンガ",
        "en": "Lickitung"
    },
    {
        "ja": "ドガース",
        "en": "Koffing"
    },
    {
        "ja": "マタドガス",
        "en": "Weezing"
    },
    {
        "ja": "サイホーン",
        "en": "Rhyhorn"
    },
    {
        "ja": "サイドン",
        "en": "Rhydon"
    },
    {
        "ja": "ラッキー",
        "en": "Chansey"
    },
    {
        "ja": "モンジャラ",
        "en": "Tangela"
    },
    {
        "ja": "ガルーラ",
        "en": "Kangaskhan"
    },
    {
        "ja": "タッツー",
        "en": "Horsea"
    },
    {
        "ja": "シードラ",
        "en": "Seadra"
    },
    {
        "ja": "トサキント",
        "en": "Goldeen"
    },
    {
        "ja": "アズマオウ",
        "en": "Seaking"
    },
    {
        "ja": "ヒトデマン",
        "en": "Staryu"
    },
    {
        "ja": "スターミー",
        "en": "Starmie"
    },
    {
        "ja": "バリヤード",
        "en": "Mr. Mime"
    },
    {
        "ja": "ストライク",
        "en": "Scyther"
    },
    {
        "ja": "ルージュラ",
        "en": "Jynx"
    },
    {
        "ja": "エレブー",
        "en": "Electabuzz"
    },
    {
        "ja": "ブーバー",
        "en": "Magmar"
    },
    {
        "ja": "カイロス",
        "en": "Pinsir"
    },
    {
        "ja": "ケンタロス",
        "en": "Tauros"
    },
    {
        "ja": "コイキング",
        "en": "Magikarp"
    },
    {
        "ja": "ギャラドス",
        "en": "Gyarados"
    },
    {
        "ja": "ラプラス",
        "en": "Lapras"
    },
    {
        "ja": "メタモン",
        "en": "Ditto"
    },
    {
        "ja": "イーブイ",
        "en": "Eevee"
    },
    {
        "ja": "シャワーズ",
        "en": "Vaporeon"
    },
    {
        "ja": "サンダース",
        "en": "Jolteon"
    },
    {
        "ja": "ブースター",
        "en": "Flareon"
    },
    {
        "ja": "ポリゴン",
        "en": "Porygon"
    },
    {
        "ja": "オムナイト",
        "en": "Omanyte"
    },
    {
        "ja": "オムスター",
        "en": "Omastar"
    },
    {
        "ja": "カブト",
        "en": "Kabuto"
    },
    {
        "ja": "カブトプス",
        "en": "Kabutops"
    },
    {
        "ja": "プテラ",
        "en": "Aerodactyl"
    },
    {
        "ja": "カビゴン",
        "en": "Snorlax"
    },
    {
        "ja": "フリーザー",
        "en": "Articuno"
    },
    {
        "ja": "サンダー",
        "en": "Zapdos"
    },
    {
        "ja": "ファイヤー",
        "en": "Moltres"
    },
    {
        "ja": "ミニリュウ",
        "en": "Dratini"
    },
    {
        "ja": "ハクリュー",
        "en": "Dragonair"
    },
    {
        "ja": "カイリュー",
        "en": "Dragonite"
    },
    {
        "ja": "ミュウツー",
        "en": "Mewtwo"
    },
    {
        "ja": "ミュウ",
        "en": "Mew"
    }
]

// 変換ボタンを押すと日本語名を英語名に変える機能
function change() {
    let jaName = document.getElementById('ja-Name').value;

    let matchData = data.filter(function (item, index) {
        if (item.ja == jaName) return true;
    });

    return matchData[0].en.toLowerCase();
}

// 入力フォームの初期化
function clearText() {
    let textForm = document.getElementById("ja-Name");
    textForm.value = '';
}

async function display() {
    let enName = change();

    // APIでjsonを取得する
    let res = await fetch("https://pokeapi.co/api/v2/pokemon-species/" + enName);
    let data = await res.json();

    // ID、属名を取得する。
    let pokeId = data['id'];
    let pokeEnName = enName;
    let pokeGenus = data['genera'][0]['genus'];
    var pokemonUrl = data['varieties'][0]['pokemon']['url']

    // 画像データを取得するためエンドポイントを変える。
    res = await fetch(pokemonUrl)
    data = await res.json();

    // 画像を取得
    let pokeImageUrl = data['sprites']['front_default']


    // HTMLを生成していく
    // 1データのdivを生成
    let tr = document.createElement('tr');

    // 図鑑番号
    let id = document.createElement('td');
    id.textContent = pokeId;
    tr.appendChild(id);

    let janame = document.createElement('td');
    janame.textContent = document.getElementById('ja-Name').value;
    tr.appendChild(janame);

    let enname = document.createElement('td');
    enname.textContent = pokeEnName;
    tr.appendChild(enname);

    // 属名を挿入
    let genus = document.createElement('td');
    genus.textContent = pokeGenus;
    tr.appendChild(genus);

    // 画像を挿入
    let img = document.createElement('img');
    img.src = pokeImageUrl; // 画像パスを追加
    tr.appendChild(img);

    // 生成したtr要素を、data-table1に追加、表示する
    document.getElementById('data-table1').appendChild(tr);

    clearText();
}